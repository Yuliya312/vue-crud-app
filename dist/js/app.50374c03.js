(function(e){function t(t){for(var a,i,o=t[0],u=t[1],l=t[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,o=1;o<r.length;o++){var u=r[o];0!==n[u]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"1b84":function(e,t,r){},"23bc":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=r("1dce"),s=r.n(n),i=r("2f62");a["a"].use(i["a"]);var o=new i["a"].Store({state:function(){return{users:JSON.parse(localStorage.getItem("users")||"[]"),nextId:1}},actions:{UPDATE_USERS:function(e,t){var r=e.commit;r("SET_USERS",t),localStorage.setItem("users",JSON.stringify(t))}},mutations:{SET_USERS:function(e,t){e.users=t}},getters:{USERS:function(e){return e.users}}}),u=o,l=r("8c4f"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("p",[e._v("Home page")]),r("table",{staticClass:"responsive-table"},[e._m(0),r("tbody",e._l(e.USERS,(function(t,a){return r("tr",{key:t.id},[r("td",[e._v(e._s(a+1))]),r("td",[e._v(e._s(t.name))]),r("td",[e._v(e._s(t.surname))]),r("td",[e._v(e._s(t.phone))]),r("td",[e._v(e._s(t.email))]),r("td",[r("router-link",{staticClass:"btn-small waves-effect waves-light",attrs:{to:{name:"vUserForm",params:{currentUser:t}}}},[r("i",{staticClass:"material-icons"},[e._v("add_circle_outline")])])],1),r("td",[r("button",{staticClass:"btn-small waves-effect waves-ligh",on:{click:function(r){return e.deleteUser(t.id)}}},[r("i",{staticClass:"material-icons"},[e._v("remove_circle_outline")])])])])})),0)])])},m=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("#")]),r("th",[e._v("Name")]),r("th",[e._v("Surname")]),r("th",[e._v("Phone")]),r("th",[e._v("Email")]),r("th",[e._v("Add")]),r("th",[e._v("Delete")])])])}],d=(r("4de4"),r("5530")),p={name:"v-main-page",computed:Object(d["a"])({},Object(i["c"])(["USERS"])),methods:Object(d["a"])({},Object(i["b"])(["UPDATE_USERS"]),{deleteUser:function(e){this.UPDATE_USERS(this.USERS.filter((function(t){return e!==t.id})))}})},f=p,v=(r("720f"),r("2877")),h=Object(v["a"])(f,c,m,!1,null,"bbc76542",null),b=h.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row"},[r("h4",[e._v("Create user")]),r("form",{staticClass:"form col s12 form-user",attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.submitHandler(t)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.name,expression:"user.name",modifiers:{trim:!0}}],class:[e.isError.name?"invalid":"","validate"],attrs:{name:"firstName",id:"name",type:"text",placeholder:"Enter your name",required:""},domProps:{value:e.user.name},on:{blur:[function(t){return e.nameError(e.user.name)},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value.trim())}}}),r("label",{staticClass:"active",attrs:{for:"first_name"}},[e._v("Name")]),r("span",{staticClass:"helper-text",attrs:{"data-error":"Fill in your name, please!"}})]),r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.surname,expression:"user.surname",modifiers:{trim:!0}}],class:[e.isError.surname?"invalid":"","validate"],attrs:{name:"surname",id:"last_name",type:"text",placeholder:"Enter your surname",required:""},domProps:{value:e.user.surname},on:{blur:[function(t){return e.surnameError(e.user.surname)},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.user,"surname",t.target.value.trim())}}}),r("label",{staticClass:"active",attrs:{for:"last_name"}},[e._v("Surname")]),r("span",{staticClass:"helper-text",attrs:{"data-error":"Fill in your surname, please!"}})])]),r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.phone,expression:"user.phone",modifiers:{trim:!0}}],class:[e.isError.phone?"invalid":"","validate"],attrs:{id:"phone",name:"phone",type:"tel",title:"380XX-XXX-XX-XX",required:"",placeholder:"Enter your phone",pattern:"38[0-9]{3}[ -][0-9]{3}[ -][0-9]{2}[ -][0-9]{2}"},domProps:{value:e.user.phone},on:{blur:[function(t){return e.phoneError(e.user.phone)},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value.trim())}}}),r("label",{staticClass:"active",attrs:{for:"phone"}},[e._v("Phone")]),r("span",{staticClass:"helper-text",attrs:{"data-error":"Please, fill in this field with pattern 38XXX-XXX-XX-XX or 38XXX XXX XX XX"}})])]),r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.user.email,expression:"user.email",modifiers:{trim:!0}}],class:[e.isError.email?"invalid":"","validate"],attrs:{name:"email",id:"email",type:"email",placeholder:"Enter your email"},domProps:{value:e.user.email},on:{blur:[function(t){return e.emailError(e.user.email)},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value.trim())}}}),r("label",{staticClass:"active",attrs:{for:"email"}},[e._v("Email")]),r("span",{staticClass:"helper-text",attrs:{"data-error":"Fill in correct email, please"}})])]),e._m(0)]),r("div",{staticClass:"row"},[r("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.submitJSON(t)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"input-field col s12"},[r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.jsonUser,expression:"jsonUser",modifiers:{trim:!0}}],staticClass:"materialize-textarea",class:{invalid:e.$v.jsonUser.$error},attrs:{rows:"10",id:"textarea1",placeholder:'[{"name":"Your Name","surname":"Your Surname","phone":"Your phone","email":"Your@email.com"}]'},domProps:{value:e.jsonUser},on:{blur:[function(t){return e.$v.jsonUser.$touch()},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.jsonUser=t.target.value.trim())}}}),r("label",{staticClass:"active",attrs:{for:"textarea1"}},[e._v("JSON-string")]),e.$v.jsonUser.error?e._e():r("span",{staticClass:"helper-text",attrs:{"data-error":"Fill in correct JSON-string, please"}})])]),r("button",{staticClass:"btn waves-effect btn-color waves-ligh",attrs:{type:"submit",name:"action",disabled:e.$v.jsonUser.$invalid}},[r("i",{staticClass:"material-icons left"},[e._v("add_circle_outline")]),e._v(" Add JSON user ")])])])])])},E=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn waves-effect btn-color waves-ligh",attrs:{type:"submit",name:"action"}},[r("i",{staticClass:"material-icons left"},[e._v("add_circle_outline")]),e._v(" Add user ")])}],g=(r("99af"),r("d81d"),r("b0c0"),r("ac1f"),r("466d"),r("2909")),S=r("c64e"),U=r.n(S),y=r("b5ae"),j=r("783b"),O=new j,w={type:"array",items:{type:"object",properties:{id:{type:"string"},name:{type:"string",pattern:"[а-яA-Яa-zA-Z]*",minLength:2},surname:{type:"string",minLength:2},phone:{type:"string",pattern:"38[0-9]{3}[ -][0-9]{3}[ -][0-9]{2}[ -][0-9]{2}",minLength:7},email:{type:"string",format:"email"}},required:["name","surname","phone","email"]}},C=function(e){var t=null;try{t=JSON.parse(e);var r=O.validate(w,t);if(!r)return!1}catch(a){return!1}return!0},X={name:"v-user-form",data:function(){return{user:{id:this.currentUser.id,name:this.currentUser.name,surname:this.currentUser.surname,phone:this.currentUser.phone,email:this.currentUser.email},isError:{name:!1,surname:!1,phone:!1,email:!1,jsonUser:!1},jsonUser:""}},validations:{jsonUser:{required:y["required"],validateJSON:C}},props:{currentUser:{type:Object,default:function(){return{user:{id:"",name:"",surname:"",email:"",phone:""}}}}},computed:Object(d["a"])({},Object(i["d"])(["users"])),methods:Object(d["a"])({},Object(i["b"])(["ADD_NEW_USER","GET_USERS"]),{nameError:function(e){this.isError.name=!e},surnameError:function(e){this.isError.surname=!e},phoneError:function(e){var t=/38[0-9]{3}[ -][0-9]{3}[ -][0-9]{2}[ -][0-9]{2}/;e&&e.match(t)?this.isError.phone=!1:this.isError.phone=!0},emailError:function(e){this.isError.email=!e},submitHandler:function(){var e=this;if(this.user.id){var t=this.users.map((function(t){return t.id===e.user.id?Object(d["a"])({},t,{id:e.user.id,name:e.user.name,surname:e.user.surname,phone:e.user.phone,email:e.user.email}):t}));this.UPDATE_USERS(t)}else this.user.id=U()(),this.UPDATE_USERS([].concat(Object(g["a"])(this.users),[{id:U()(),name:this.user.name,surname:this.user.surname,phone:this.user.phone,email:this.user.email}]));this.$router.push({name:"mainPage"})},submitJSON:function(){if(!this.$data.isError.jsonUser){var e=JSON.parse(this.jsonUser);e=e.map((function(e){return Object(d["a"])({},e,{id:U()()})})),this.UPDATE_USERS([].concat(Object(g["a"])(this.users),Object(g["a"])(e))),this.$router.push({name:"mainPage"})}}},Object(i["b"])(["UPDATE_USERS"]))},x=X,$=(r("8499"),Object(v["a"])(x,_,E,!1,null,"4c99b40d",null)),P=$.exports;a["a"].use(l["a"]);var N=new l["a"]({routes:[{path:"/",name:"mainPage",component:b},{path:"/user/:id?",name:"vUserForm",props:!0,component:P}],mode:"history"}),A=N,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"container"},[r("vNavigation"),r("router-view")],1)])},T=[],D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"nav blue lighten-2"},[r("div",{staticClass:"nav-wrapper"},[r("ul",{staticClass:"left show-on-med-and-down",attrs:{id:"nav-mobile"}},[r("li",[r("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),r("li",[r("router-link",{attrs:{to:"/user"}},[e._v("Add user")])],1)])])])},J=[],k={name:"vNavigation"},q=k,F=(r("9758"),Object(v["a"])(q,D,J,!1,null,null,null)),H=F.exports,M={name:"App",components:{vNavigation:H},computed:{},methods:{},mounted:function(){}},Y=M,I=(r("034f"),Object(v["a"])(Y,R,T,!1,null,null,null)),L=I.exports;r("d1e78"),r("dc53");a["a"].config.productionTip=!1,a["a"].use(s.a),new a["a"]({store:u,router:A,render:function(e){return e(L)}}).$mount("#app")},"720f":function(e,t,r){"use strict";var a=r("23bc"),n=r.n(a);n.a},8499:function(e,t,r){"use strict";var a=r("1b84"),n=r.n(a);n.a},"85ec":function(e,t,r){},9758:function(e,t,r){"use strict";var a=r("f6af"),n=r.n(a);n.a},f6af:function(e,t,r){}});
//# sourceMappingURL=app.50374c03.js.map